<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width" />
  <title>buttons</title>
</head>

<body>
  <script>
    style = "color:white;background:black;font-size:3vw;font-family:verdana;"

    buttonStyle = style + "border-style:solid;border-width:1px;"
    listStyle = buttonStyle + "text-align:left;"
    hiddenStyle = "color:black"
    revealedStyle = "color:white"

    document.body.style.cssText = style

    addElement = (id, type, width, style, text) => {
      element = document.createElement(type)
      element.style.cssText = style
      element.style.width = width + "%"
      element.id = id
      element.innerHTML = text
      document.body.appendChild(element)
      return element
    }

    addButton = (id, width, style, text, action) => {
      addElement(id, "button", width, style, text)
        .addEventListener("click", action)
    }
    //removeElement=(id)=>document.querySelectorAll([id~=id).remove()

    // removeButton = id => document.getElementById(id).parentNode.removeChild(document.getElementById(id))
    // removeButtons = idArray => idArray.forEach(id => removeButton(id))
    // restoreButton = id => document.getElementById(id).style.display = "block"
    // restoreButtons = idArray => idArray.forEach(id => restoreButton(id))
    hideButton = id => document.getElementById(id).style.cssText = document.getElementById(id).style.cssText + hiddenStyle
    hideButtons = idArray => idArray.forEach(id => hideButton(id))
    showButton = id => document.getElementById(id).style.cssText = document.getElementById(id).style.cssText + revealedStyle
    showButtons = idArray => idArray.forEach(id => showButton(id))
    changeButtonText = (id, text) => {
      console.log(id, document.getElementById(id));
      document.getElementById(id).innerHTML = text
    }
    addListButton = (listId, index, text, action) => {
      addButton(listId + index, 100, listStyle, text, action);
      console.log(document.getElementById(listId + index))
    }
    removeList = listId => {
      let i = 0
      while (document.getElementById(listId + i) != null) {
        document.getElementById(listId + i).remove()
        i++
      }
    }

    showOptions = (listId, i) => {
      // console.log(listId + i);
      changeButtonText(listId + i, "delete")
    }

    member = (name, age) => ({
      name,
      age
    })

    members = [member("abby", 34), member("brian", 44), member("colin", 23)]
    addList = (listId, property) => {
      removeList(listId)
      k=eval(listId)
      k.forEach((v, i) => addListButton(listId, i, v[property], () => showOptions(listId, i)))
    }

    addButton("listMembersButton", 100, buttonStyle, "members", () => addList("members", "name"))


    // addButton("ageButton", document, 50, buttonStyle, "", () => hideButton("ageButton"))
    // hideButton("ageButton")
  </script>
</body>

</html>
